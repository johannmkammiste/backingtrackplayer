{% extends "base.html" %}

{% block sidebar %}
<div class="songs-sidebar">
    <button id="add-song-btn" class="add-song-button">
        ï¼‹ Add New Song
    </button>
    <div class="songs-list">
        {% for song in songs %}
        <div class="song-item" data-song-id="{{ song.id }}">
            <span class="song-name">{{ song.name }}</span>
            <span class="song-tempo">{{ song.tempo }} BPM</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% block content %}
<div class="song-editor" id="song-editor">
    <div class="empty-state" id="empty-state">
        <p>Select a song from the list or create a new one</p>
    </div>

    <div class="song-form" id="song-form" style="display: none;">
        <div class="song-header">
            <h2 id="song-title">New Song</h2>
            <div class="song-meta">
                <div class="meta-row">
                    <label>Song Name:</label>
                    <input type="text" id="song-name" class="song-name-input">
                </div>
                <div class="meta-row">
                    <label>Tempo (BPM):</label>
                    <input type="number" id="song-tempo" class="tempo-input" min="40" max="300">
                </div>
            </div>
        </div>

        <div class="song-actions">
            <button id="save-song" class="action-button save">Save Song</button>
            <button id="delete-song" class="action-button delete">Delete Song</button>
        </div>

        <div class="tracks-section">
            <h3>Audio Tracks</h3>
            <div class="tracks-list" id="tracks-list">
                <!-- Tracks will be added here dynamically -->
            </div>

            <div class="upload-area" id="upload-area">
                <input type="file" id="file-upload" multiple accept=".wav,.mp3,.ogg,.aiff" style="display: none;">
                <label for="file-upload" class="upload-button">
                    Upload Audio Files
                </label>
                <span class="upload-hint">Drag & drop files here or click to browse</span>
            </div>
        </div>


    </div>
</div>
{% endblock %}